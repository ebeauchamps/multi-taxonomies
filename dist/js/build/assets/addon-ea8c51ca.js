function p(e,t,a,o,i,r,d,m){var n=typeof e=="function"?e.options:e;t&&(n.render=t,n.staticRenderFns=a,n._compiled=!0),o&&(n.functional=!0),r&&(n._scopeId="data-v-"+r);var l;if(d?(l=function(s){s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!s&&typeof __VUE_SSR_CONTEXT__<"u"&&(s=__VUE_SSR_CONTEXT__),i&&i.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(d)},n._ssrRegister=l):i&&(l=m?function(){i.call(this,(n.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(n.functional){n._injectStyles=l;var _=n.render;n.render=function(u,f){return l.call(f),_(u,f)}}else{var c=n.beforeCreate;n.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:n}}const h={mixins:[Fieldtype],data:()=>({selectConfig:{},data:{taxonomy_depend:null,taxonomy_one:null},firstSelectItems:[],secondarySelectItems:[],secondarySelectItemsFiltered:[]}),computed:{options:()=>items},watch:{data:{deep:!0,handler:function(e,t){this.update(e)}}},methods:{mainConfig(){var e=this;e.selectConfig=e.config,e.data.taxonomy_one=null},mainData(){var e=this;const t=cp_url("ebeauchamps/multitaxonomies/getFirstSelectItems");e.$axios.post(t,e.selectConfig).then(a=>{e.firstSelectItems=a.data.firstTerms,e.secondarySelectItems=a.data.depentTerm,e.value.taxonomy_one&&(e.filteredList(e.value.taxonomy_one),e.data.taxonomy_one=e.value.taxonomy_one,e.data.taxonomy_depend=e.value.taxonomy_depend)}).catch(a=>{console.log(a)})},filteredList(e){var t=this;t.data.taxonomy_depend=null,t.secondarySelectItemsFiltered=[],t.secondarySelectItemsFiltered=t.secondarySelectItems.filter(a=>a.foreign==e)}},mounted(){var e=this;e.mainConfig(),e.mainData()}};var v=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"flex-1 flex-no-shrink"},[a("label",{staticClass:"publish-field-label mb-1",attrs:{for:t.selectConfig.taxonomies_one}}),a("v-select",{attrs:{id:"taxonomy_one",options:t.firstSelectItems,reduce:o=>o.key,label:"label",clearable:!0,searchable:!0},on:{input:t.filteredList},model:{value:t.data.taxonomy_one,callback:function(o){t.$set(t.data,"taxonomy_one",o)},expression:"data.taxonomy_one"}})],1),a("div",{staticClass:"flex-1 flex-no-shrink"},[a("label",{staticClass:"publish-field-label mb-1",attrs:{for:t.selectConfig.taxonomies_depend}}),a("v-select",{attrs:{id:"taxonomies_depend",options:t.secondarySelectItemsFiltered,reduce:o=>o.key,label:"label",clearable:!0,searchable:!0},model:{value:t.data.taxonomy_depend,callback:function(o){t.$set(t.data,"taxonomy_depend",o)},expression:"data.taxonomy_depend"}})],1)])},y=[],x=p(h,v,y,!1,null,null,null,null);const b=x.exports;Statamic.booting(()=>{Statamic.$components.register("multi_taxonomies-fieldtype",b)});
